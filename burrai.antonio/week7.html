<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Agency - Start Bootstrap Theme</title>

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/agency.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href='http://fonts.googleapis.com/css?family=Kaushan+Script' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body id="page-top" class="index">

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li class="hidden">
                        <a href="#page-top"></a>
                    </li>
                     
                    <li>
                        <a class="page-scroll" href="#portfolio">Fab Academy 2015</a>
                    </li>
                      
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container-fluid -->
    </nav>

    <!-- Header -->
    <header> 
        <div class="container">
            <div class="intro-text">
                <div class="intro-lead-in">Antonio Burrai</div>
                <div class="intro-heading">[WEEK 7]</div>
                 
            </div>
        </div>
    </header>

    <!-- Portfolio Grid Section -->
    <section id="portfolio" class="bg-light-gray">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2 class="section-heading">Embedded programming</h2>
                                         
                    <h3 class="section-subheading text-muted">.</h3>
                    
                     <hr><h3 class="section-subheading text-muted"> <strong>The weekly assignment focuses on the understanding of a microcontroller datasheet, the description of programming process and the final result: program the modified "echo hello-world board". </strong><hr></h3>
     
                       <h3 class="section-subheading text-muted"> First of all I’ve found on the web the mentioned DATASHEET. The ATtiny44A is a small, cheap microcontroller that are convenient for running simple programs. The datasheet can be found at the ATMEL specific <a href="http://www.atmel.com/images/doc8183.pdf">page</a>. What is a <a href="https://en.wikipedia.org/wiki/Datasheet">DATASHEET</a> ? A datasheet, data sheet, or spec sheet is a document that summarizes the performance and other technical characteristics of a product, machine, component (e.g., an electronic component), material, a subsystem (e.g., a power supply) or software in sufficient detail to be used by a design engineer to integrate the component into a system. Typically, a datasheet is created by the component/subsystem/software manufacturer and begins with an introductory page describing the rest of the document, followed by listings of specific characteristics, with further information on the connectivity of the devices. In cases where there is relevant source code to include, it is usually attached near the end of the document or separated into another file.<img src="img/w7/w7_1.png" width="600" height="450" class="img-responsive"> </h3> 
                       
                       
                       <h3 class="section-subheading text-muted"> In this specific case I’ve found very useful the following image. Please note the <strong>RED DOT</strong> I’ve sketched refer to a very small point that is physically present in the processor and that’s a big help to correctly position the processor itself. Further detail about the “pin out” could be find inside the document.). <img src="img/w7/w7_2.png" width="600" height="450" class="img-responsive"> </h3> 
                       
                                              <h3 class="section-subheading text-muted"> The schematic and board file used to start to design the new "echo hello-world board" (software: <a href="http://www.cadsoftusa.com/">Eagle</a>) has been a great help to understand and check the routes from the processor to the other parts of the PCB.  Once opened the board in Eagle you just have to click (a) the small “i” (info) to obtain detailed information about the component and (b) the small “eye” to select the routes from start to end. The following three figures have been reported in order to show the <strong>functionality of “i” (info) function</strong>. Follow the same procedure for the other processor pins. <img src="img/w7/w7_3.png" width="600" height="450" class="img-responsive"> RX pin </h3>
                                                    <h3 class="section-subheading text-muted"> <img src="img/w7/w7_4.png" width="600" height="450" class="img-responsive"> GND pin </h3>  
                                              
 <h3 class="section-subheading text-muted"> <img src="img/w7/w7_5.png" width="600" height="450" class="img-responsive"> TX pin </h3>                                 
 <h3 class="section-subheading text-muted"> The following three figures have been reported in order to show the <strong>functionality of “eye” function.</strong> Follow the same procedure for the other processor pins. </h3>                       
 
  <h3 class="section-subheading text-muted"> <img src="img/w7/w7_6.png" width="600" height="450" class="img-responsive"> Tracking the GND route(s)</h3>                      
  <h3 class="section-subheading text-muted"> <img src="img/w7/w7_7.png" width="600" height="450" class="img-responsive"> Tracking the BUTTON route(s)</h3>
  
    <h3 class="section-subheading text-muted"> <img src="img/w7/w7_8.png" width="600" height="450" class="img-responsive"> Tracking the TX route(s)</h3>
    
        <hr><h3 class="section-subheading text-muted"> <strong>Once defined the connections/PINOUT I’m now ready to make a description of PROGRAMMING PROCESS. </strong><hr></h3>
  
       <h3 class="section-subheading text-muted"> Please note that, at the beginning of the procedure, I had lot of problems using Windows 7, so I’ve switched to Ubuntu 12.04 LTS.
I had to follow the specific rules described into this <a href="http://academy.cba.mit.edu/content/tutorials/akf/embedded_programming_arduinoIDE.html">tutorial</a>  </a>
because <a href="http://savannah.nongnu.org/projects/avrdude">Avrdude</a>, in Ubuntu, needs “sudo” access in order to send your Arduino code to the echo hello-world board.
I also put the Attiny44 in the following folder (sketchbook folder). If you skip this step you won’t be able to see the processor in the Arduino IDE list. To reach this folder in Arduino, just search for PREFERENCES.<img src="img/w7/w7_9.png" width="600" height="450" class="img-responsive"> </h3>

       <h3 class="section-subheading text-muted"> After the required steps, I should be able to burn the bootloader. I connect all the component(s)/cable(s) as the following figure and I’ve selected the proper options in the Arduino IDE: <strong>ATtiny44 with external 20MHz clock</strong>.Please note that the chosen programmer is the USBASP.Please note also that the FTDI cable is necessary just for external power (you can unplug it during the sending of the sketches). <img src="img/w7/w7_10.png" width="600" height="450" class="img-responsive"> </h3>
       
         <h3 class="section-subheading text-muted"> Everything went good, the correct reply has been given by the Arduino IDE:  <strong>DONE BURNING BOOTLOADER</strong>. The procedure is not complete, you know have to send a “<strong>sketch</strong>” to the “echo hello-world board”.</h3>
         
                <h3 class="section-subheading text-muted"> SENDING THE SKETCHES. I’ve started my trials sending to the board the sample sketch in the Tutorial <a href="http://academy.cba.mit.edu/content/tutorials/akf/embedded_programming_arduinoIDE.html">page</a></a>.
I've received an alert: <strong>avrdude: warning: cannot set sck period.</strong> Please check for usbasp firmware update appears.
This is not a problem, just an alert (derived from a not updated firmware), so the upload had been succesfull. </h3>

 <h3 class="section-subheading text-muted"> The sample code has then been modified in different ways:
<strong>FIRST WAY: </strong>The LED is turned ON if the BUTTON is pressed.
Please note the buttonState is LOW if the button is NOT pressed. 
Please note the buttonState is HIGH if the button is pressed.(code and video are following) <img src="img/w7/w7_11.png" width="600" height="450" class="img-responsive"> 
<iframe src="https://player.vimeo.com/video/131341091" width="1000" height="562" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p><a href="https://vimeo.com/131341091">BUTTON</a> from <a href="https://vimeo.com/user9088004">antonio burrai</a> on <a href="https://vimeo.com">Vimeo</a>.</p> </h3>

<h3 class="section-subheading text-muted"><strong>SECOND WAY: </strong> The LED is turned ON and BLINK (50ms) if the BUTTON is pressed.
Please note the buttonState is LOW if the button is NOT pressed. 
Please note the buttonState is HIGH if the button is pressed. (code and video are following) <img src="img/w7/w7_12.png" width="600" height="450" class="img-responsive">
 <iframe src="https://player.vimeo.com/video/131341141" width="1000" height="562" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p><a href="https://vimeo.com/131341141">BUTTON+BLINK</a> from <a href="https://vimeo.com/user9088004">antonio burrai</a> on <a href="https://vimeo.com">Vimeo</a>.</p>
 </h3><hr> 

<h3 class="section-subheading text-muted">
<strong> Download area </strong> <hr> The following files are downloadable:
<table width="700" border="1">
  <tr>
    <td>Type of file</td>
    <td>Description</td>
    <td>Link (Type of file)</td>
  </tr>
  <tr>
    <td>(Working)Arduino Code</td>
    <td>Button;</td>
    <td>(<a href="files/week_7/button.ino">INO</a>)</td>
  </tr>
  <tr>
    <td>Working)Arduino Code</td>
    <td>Button+Blink;</td>
    <td>(<a href="files/week_7/button_blink.ino">INO</a>)</td>
  </tr>
  <tr>
      </tr>
  <tr>
   
</table></h3>
            </div>
            </div>
             
    <!-- Clients Aside -->
    
    <!-- jQuery -->
    <script src="js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
    <script src="js/classie.js"></script>
    <script src="js/cbpAnimatedHeader.js"></script>

    <!-- Contact Form JavaScript -->
    <script src="js/jqBootstrapValidation.js"></script>
    <script src="js/contact_me.js"></script>

    <!-- Custom Theme JavaScript -->
    <script src="js/agency.js"></script>

</body>

</html>
